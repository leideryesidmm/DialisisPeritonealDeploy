function _0xcd22(){const _0x36f4ca=['status','nombreEditar','Usuario/cambiarContrasenia','11235QYYfWf','token','addEventListener','click','mode','POST','medico','error','Error:','servidorAPI','fa-eye-slash','946681ZLuIBd','toString','classList','reload','style','idAlergia','setItem','cedulaPaciente','newcontrasenia','push','#contraseniaerronea','#nuevacontrasenia','stringify','usuario','Error\x20al\x20cambiar\x20la\x20contraseña','#editaralergia','alergia','background','application/json','show','parse','CBC','#agregaralergia','PATCH','true','64tWlJUF','guardarAlergia','5104620jxQtIM','json','forEach','pad','administrador','582VlAKev','remove','gray','52135GQEERQ','add','datos','contraseniaanterior','AES','Pkcs7','type','fa-eye','getElementById','encrypt','DatosMedicos/alergia/crear','#contraseniacambiada','enc','2ibpkpo','value','catch','6109536oGNAbh','Utf8','DatosMedicos/alergia/editar/','modal','getItem','cedula','editarAlergia','54627MuQiOg','1665207rnVCkg','#errorModal','contrasenia','password','then','log','hide'];_0xcd22=function(){return _0x36f4ca;};return _0xcd22();}function _0xb662(_0x2eda7a,_0x3215f2){const _0xcd2249=_0xcd22();return _0xb662=function(_0xb66296,_0x593fd8){_0xb66296=_0xb66296-0x19c;let _0x56fbf0=_0xcd2249[_0xb66296];return _0x56fbf0;},_0xb662(_0x2eda7a,_0x3215f2);}(function(_0x23d5b8,_0x3dc0da){const _0x57fb93=_0xb662,_0x1673c5=_0x23d5b8();while(!![]){try{const _0x4237e7=-parseInt(_0x57fb93(0x1c9))/0x1*(-parseInt(_0x57fb93(0x1a9))/0x2)+-parseInt(_0x57fb93(0x1b3))/0x3+-parseInt(_0x57fb93(0x1e2))/0x4*(parseInt(_0x57fb93(0x19c))/0x5)+-parseInt(_0x57fb93(0x1e9))/0x6*(parseInt(_0x57fb93(0x1be))/0x7)+-parseInt(_0x57fb93(0x1ac))/0x8+parseInt(_0x57fb93(0x1b4))/0x9+parseInt(_0x57fb93(0x1e4))/0xa;if(_0x4237e7===_0x3dc0da)break;else _0x1673c5['push'](_0x1673c5['shift']());}catch(_0x2f20d1){_0x1673c5['push'](_0x1673c5['shift']());}}}(_0xcd22,0x83494));var cedulaEncriptada='';function passwordVisibilityActual(_0x4b24b5,_0x3a2e20){const _0x3db1e7=_0xb662;var _0x371ee4=document[_0x3db1e7(0x1a4)](_0x4b24b5),_0x57fe3b=document['querySelector']('.'+_0x3a2e20);_0x371ee4[_0x3db1e7(0x1a2)]===_0x3db1e7(0x1b7)?(_0x371ee4[_0x3db1e7(0x1a2)]='text',_0x57fe3b[_0x3db1e7(0x1cb)]['remove']('fa-eye'),_0x57fe3b[_0x3db1e7(0x1cb)]['add'](_0x3db1e7(0x1c8))):(_0x371ee4[_0x3db1e7(0x1a2)]='password',_0x57fe3b[_0x3db1e7(0x1cb)][_0x3db1e7(0x1ea)](_0x3db1e7(0x1c8)),_0x57fe3b['classList'][_0x3db1e7(0x19d)](_0x3db1e7(0x1a3)));}let paciente=async _0x1e9e9a=>{const _0x5e3de5=_0xb662;let _0x247e9a=localStorage['getItem']('datos'),_0x20b242=JSON[_0x5e3de5(0x1dd)](_0x247e9a);usuario={'cedula':_0x1e9e9a};let _0x39d636=await fetch(localStorage[_0x5e3de5(0x1b0)](_0x5e3de5(0x1c7))+'Usuario/cedula',{'method':_0x5e3de5(0x1c3),'headers':{'Accept':_0x5e3de5(0x1db),'Content-Type':'application/json','Authorization':_0x20b242[_0x5e3de5(0x1bf)]},'body':JSON[_0x5e3de5(0x1d5)](usuario)});if(_0x39d636[_0x5e3de5(0x1bb)]===0xc8){const _0x9a4beb=await _0x39d636['json']();return _0x9a4beb;}else return null;},cambioContrasenia=async _0x546eee=>{const _0x5e19de=_0xb662;_0x546eee['preventDefault'](),await obtenerClave(),await obtenerIv();let _0x4ab3a6=localStorage[_0x5e19de(0x1b0)](_0x5e19de(0x19e)),_0x36fbcd=JSON[_0x5e19de(0x1dd)](_0x4ab3a6),_0x14812f=_0x36fbcd[_0x5e19de(0x1b1)];const _0x1adf0b=await paciente(_0x14812f);let _0x15f02e='';_0x1adf0b!=null&&(_0x15f02e=decodeURIComponent(CryptoJS[_0x5e19de(0x1a0)]['decrypt'](_0x1adf0b['contrasenia'],CryptoJS['enc'][_0x5e19de(0x1ad)][_0x5e19de(0x1dd)](cajaNegra2),{'iv':CryptoJS[_0x5e19de(0x1a8)][_0x5e19de(0x1ad)][_0x5e19de(0x1dd)](iv),'mode':CryptoJS[_0x5e19de(0x1c2)][_0x5e19de(0x1de)],'padding':CryptoJS[_0x5e19de(0x1e7)][_0x5e19de(0x1a1)]})[_0x5e19de(0x1ca)](CryptoJS[_0x5e19de(0x1a8)]['Utf8'])));const _0x4b4a4b=document[_0x5e19de(0x1a4)](_0x5e19de(0x19f))[_0x5e19de(0x1aa)],_0x3c7b57=document[_0x5e19de(0x1a4)](_0x5e19de(0x1d1))[_0x5e19de(0x1aa)];let _0x164579=CryptoJS[_0x5e19de(0x1a0)][_0x5e19de(0x1a5)](CryptoJS[_0x5e19de(0x1a8)][_0x5e19de(0x1ad)][_0x5e19de(0x1dd)](encodeURIComponent(_0x3c7b57)),CryptoJS[_0x5e19de(0x1a8)][_0x5e19de(0x1ad)][_0x5e19de(0x1dd)](cajaNegra2),{'iv':CryptoJS[_0x5e19de(0x1a8)]['Utf8'][_0x5e19de(0x1dd)](iv),'mode':CryptoJS[_0x5e19de(0x1c2)]['CBC'],'padding':CryptoJS['pad'][_0x5e19de(0x1a1)]})[_0x5e19de(0x1ca)]();if(_0x4b4a4b===_0x15f02e){let _0x4f67d3={'cedula':_0x14812f,'contrasenia':_0x164579};await fetch(localStorage[_0x5e19de(0x1b0)](_0x5e19de(0x1c7))+_0x5e19de(0x1bd),{'method':_0x5e19de(0x1e0),'headers':{'Accept':'application/json','Content-Type':_0x5e19de(0x1db),'Authorization':_0x36fbcd['token']},'body':JSON[_0x5e19de(0x1d5)](_0x4f67d3)})[_0x5e19de(0x1b8)](_0x562418=>{const _0x2f1176=_0x5e19de;if(_0x562418['ok']){_0x36fbcd[_0x2f1176(0x1b6)]=_0x164579;const _0x3e011c=JSON[_0x2f1176(0x1d5)](_0x36fbcd);localStorage[_0x2f1176(0x1cf)]('datos',_0x3e011c),$(_0x2f1176(0x1a7))[_0x2f1176(0x1af)](_0x2f1176(0x1dc)),document['getElementById'](_0x2f1176(0x19f))[_0x2f1176(0x1aa)]='',document[_0x2f1176(0x1a4)](_0x2f1176(0x1d1))['value']='',$(_0x2f1176(0x1d4))['modal']('hide');}else alert('Error\x20al\x20cambiar\x20la\x20contraseña');})[_0x5e19de(0x1ab)](_0x49ff8b=>{const _0xbc8076=_0x5e19de;console[_0xbc8076(0x1c5)](_0xbc8076(0x1c6),_0x49ff8b),alert(_0xbc8076(0x1d7));});}else $(_0x5e19de(0x1d3))['modal'](_0x5e19de(0x1dc)),document[_0x5e19de(0x1a4)](_0x5e19de(0x19f))[_0x5e19de(0x1aa)]='',document[_0x5e19de(0x1a4)]('newcontrasenia')[_0x5e19de(0x1aa)]='',$('#btnAceptar')[_0x5e19de(0x1c1)](function(){const _0x1c2247=_0x5e19de;$('#contraseniaerronea')['modal'](_0x1c2247(0x1ba));});},crearAlergia=async()=>{const _0x5a8c44=_0xb662;await obtenerClave(),await obtenerIv(),document[_0x5a8c44(0x1a4)]('guardarAlergia')[_0x5a8c44(0x1c0)]('click',async function(_0x48b02c){const _0x3a0b0d=_0x5a8c44;_0x48b02c['preventDefault']();const _0x9519df=document['getElementById'](_0x3a0b0d(0x1e3));_0x9519df[_0x3a0b0d(0x1cd)]['background']=_0x3a0b0d(0x1eb),_0x9519df['disabeld']=_0x3a0b0d(0x1e1);let _0x1a1881=localStorage[_0x3a0b0d(0x1b0)](_0x3a0b0d(0x19e)),_0x1a3929=JSON[_0x3a0b0d(0x1dd)](_0x1a1881),_0x4d1c0a=_0x1a3929[_0x3a0b0d(0x1d6)],_0xbdb74f=_0x1a3929['cedula'];nombreInput=document['getElementById']('nombreCrear')[_0x3a0b0d(0x1aa)];let _0x1db37c=localStorage['getItem'](_0x3a0b0d(0x1d0)),_0x281147=_0x4d1c0a='medico'?CryptoJS[_0x3a0b0d(0x1a0)]['encrypt'](CryptoJS['enc'][_0x3a0b0d(0x1ad)]['parse'](encodeURIComponent(_0x1db37c)),CryptoJS['enc'][_0x3a0b0d(0x1ad)][_0x3a0b0d(0x1dd)](cajaNegra2),{'iv':CryptoJS['enc']['Utf8'][_0x3a0b0d(0x1dd)](iv),'mode':CryptoJS[_0x3a0b0d(0x1c2)]['CBC'],'padding':CryptoJS[_0x3a0b0d(0x1e7)][_0x3a0b0d(0x1a1)]})[_0x3a0b0d(0x1ca)]():_0xbdb74f,_0x2759fa=CryptoJS['AES'][_0x3a0b0d(0x1a5)](CryptoJS['enc']['Utf8']['parse'](encodeURIComponent(nombreInput)),CryptoJS[_0x3a0b0d(0x1a8)][_0x3a0b0d(0x1ad)]['parse'](cajaNegra2),{'iv':CryptoJS[_0x3a0b0d(0x1a8)]['Utf8'][_0x3a0b0d(0x1dd)](iv),'mode':CryptoJS[_0x3a0b0d(0x1c2)]['CBC'],'padding':CryptoJS['pad'][_0x3a0b0d(0x1a1)]})[_0x3a0b0d(0x1ca)](),_0x2a1473={'nombre':_0x2759fa},_0x1ff579={'cedula':_0x281147},_0x457a0a={'alergiaInDto':_0x2a1473,'pacienteInDto':_0x1ff579};fetch(localStorage[_0x3a0b0d(0x1b0)](_0x3a0b0d(0x1c7))+_0x3a0b0d(0x1a6),{'method':'POST','body':JSON['stringify'](_0x457a0a),'headers':{'Accept':_0x3a0b0d(0x1db),'Content-Type':_0x3a0b0d(0x1db),'Authorization':_0x1a3929['token']}})[_0x3a0b0d(0x1b8)](_0x347429=>{const _0x472b97=_0x3a0b0d;console[_0x472b97(0x1b9)](_0x347429),_0x347429['ok']?($(_0x472b97(0x1df))[_0x472b97(0x1af)](_0x472b97(0x1ba)),location[_0x472b97(0x1cc)]()):$(_0x472b97(0x1b5))[_0x472b97(0x1af)](_0x472b97(0x1dc));})[_0x3a0b0d(0x1ab)](_0x40f5f0=>{const _0x3cbf38=_0x3a0b0d;console[_0x3cbf38(0x1c5)](_0x40f5f0);});});},listarAlergias=async()=>{const _0x4276d6=_0xb662;await obtenerClave(),await obtenerIv();let _0x34e068=localStorage['getItem'](_0x4276d6(0x19e)),_0x89db3b=JSON[_0x4276d6(0x1dd)](_0x34e068),_0x8f0ea1=_0x89db3b[_0x4276d6(0x1d6)],_0x4a9b00=_0x89db3b[_0x4276d6(0x1b1)],_0x18f263='';if(_0x8f0ea1==_0x4276d6(0x1c4)||_0x8f0ea1==_0x4276d6(0x1e8)){let _0x31f962=localStorage[_0x4276d6(0x1b0)](_0x4276d6(0x1d0));_0x18f263=CryptoJS[_0x4276d6(0x1a0)]['encrypt'](CryptoJS[_0x4276d6(0x1a8)][_0x4276d6(0x1ad)][_0x4276d6(0x1dd)](encodeURIComponent(_0x31f962)),CryptoJS[_0x4276d6(0x1a8)][_0x4276d6(0x1ad)][_0x4276d6(0x1dd)](cajaNegra2),{'iv':CryptoJS[_0x4276d6(0x1a8)][_0x4276d6(0x1ad)][_0x4276d6(0x1dd)](iv),'mode':CryptoJS[_0x4276d6(0x1c2)][_0x4276d6(0x1de)],'padding':CryptoJS[_0x4276d6(0x1e7)][_0x4276d6(0x1a1)]})['toString']();}else _0x18f263=_0x4a9b00;pacienteInDto={'cedula':_0x18f263};const _0x35d774=await fetch(localStorage[_0x4276d6(0x1b0)]('servidorAPI')+'DatosMedicos/alergia/listByPaciente',{'method':_0x4276d6(0x1c3),'headers':{'Accept':'application/json','Content-Type':_0x4276d6(0x1db),'Authorization':_0x89db3b[_0x4276d6(0x1bf)]},'body':JSON['stringify'](pacienteInDto)}),_0x5a6160=await _0x35d774[_0x4276d6(0x1e5)]();let _0x2482b6=[];return _0x5a6160[_0x4276d6(0x1e6)](_0x546e50=>{const _0x4f4263=_0x4276d6;let _0x371f3b=decodeURIComponent(CryptoJS[_0x4f4263(0x1a0)]['decrypt'](_0x546e50[_0x4f4263(0x1d9)]['nombre'],CryptoJS[_0x4f4263(0x1a8)][_0x4f4263(0x1ad)][_0x4f4263(0x1dd)](cajaNegra2),{'iv':CryptoJS['enc'][_0x4f4263(0x1ad)][_0x4f4263(0x1dd)](iv),'mode':CryptoJS[_0x4f4263(0x1c2)][_0x4f4263(0x1de)],'padding':CryptoJS[_0x4f4263(0x1e7)][_0x4f4263(0x1a1)]})['toString'](CryptoJS[_0x4f4263(0x1a8)][_0x4f4263(0x1ad)])),_0x5d03df={'idAlergia':_0x546e50[_0x4f4263(0x1d9)][_0x4f4263(0x1ce)],'nombre':_0x371f3b};_0x2482b6[_0x4f4263(0x1d2)](_0x5d03df);}),_0x2482b6;},editarAlergia=async _0x40111f=>{const _0x210571=_0xb662;await obtenerClave(),await obtenerIv();let _0x17b54a=localStorage[_0x210571(0x1b0)]('datos'),_0x5334b0=JSON[_0x210571(0x1dd)](_0x17b54a);nombreInput=document[_0x210571(0x1a4)](_0x210571(0x1bc)+_0x40111f)[_0x210571(0x1aa)];const _0x4c8f17=document['getElementById'](_0x210571(0x1b2));_0x4c8f17['style'][_0x210571(0x1da)]=_0x210571(0x1eb),_0x4c8f17['disabeld']='true';let _0x464041=CryptoJS['AES'][_0x210571(0x1a5)](CryptoJS['enc'][_0x210571(0x1ad)][_0x210571(0x1dd)](encodeURIComponent(nombreInput)),CryptoJS[_0x210571(0x1a8)][_0x210571(0x1ad)]['parse'](cajaNegra2),{'iv':CryptoJS['enc']['Utf8'][_0x210571(0x1dd)](iv),'mode':CryptoJS['mode'][_0x210571(0x1de)],'padding':CryptoJS[_0x210571(0x1e7)][_0x210571(0x1a1)]})['toString']();fetch(localStorage[_0x210571(0x1b0)](_0x210571(0x1c7))+_0x210571(0x1ae)+_0x40111f,{'method':_0x210571(0x1e0),'body':JSON['stringify']({'nombre':_0x464041}),'headers':{'Accept':_0x210571(0x1db),'Content-Type':'application/json','Authorization':_0x5334b0[_0x210571(0x1bf)]}})[_0x210571(0x1b8)](_0x180eb8=>{const _0x107dff=_0x210571;console[_0x107dff(0x1b9)](_0x180eb8),_0x180eb8['ok']?($(_0x107dff(0x1d8)+_0x40111f)[_0x107dff(0x1af)](_0x107dff(0x1ba)),location[_0x107dff(0x1cc)]()):$('#errorModal')['modal'](_0x107dff(0x1dc));})['catch'](_0x5a8e57=>{const _0x4195ff=_0x210571;console[_0x4195ff(0x1c5)](_0x5a8e57);});},inhabilitarAlergia=async _0x57d076=>{const _0x63efb3=_0xb662;await obtenerClave(),await obtenerIv();let _0x4c7caf=localStorage[_0x63efb3(0x1b0)]('datos'),_0x54acc5=JSON[_0x63efb3(0x1dd)](_0x4c7caf),_0x439e97=_0x54acc5[_0x63efb3(0x1d6)],_0x4973f6=_0x54acc5[_0x63efb3(0x1b1)],_0x26aca1='';if(_0x439e97=='medico'||_0x439e97==_0x63efb3(0x1e8)){let _0x2dcc05=localStorage[_0x63efb3(0x1b0)]('cedulaPaciente');_0x26aca1=CryptoJS['AES'][_0x63efb3(0x1a5)](CryptoJS['enc']['Utf8'][_0x63efb3(0x1dd)](encodeURIComponent(_0x2dcc05)),CryptoJS['enc'][_0x63efb3(0x1ad)][_0x63efb3(0x1dd)](cajaNegra2),{'iv':CryptoJS['enc'][_0x63efb3(0x1ad)]['parse'](iv),'mode':CryptoJS['mode'][_0x63efb3(0x1de)],'padding':CryptoJS[_0x63efb3(0x1e7)]['Pkcs7']})['toString']();}else _0x26aca1=_0x4973f6;let _0x4ba2c8={'cedula':_0x26aca1},_0x35d75e={'alergiaInDto':{'idAlergia':_0x57d076},'pacienteInDto':_0x4ba2c8};fetch(localStorage[_0x63efb3(0x1b0)]('servidorAPI')+'DatosMedicos/alergia/inactivar',{'method':_0x63efb3(0x1e0),'headers':{'Accept':_0x63efb3(0x1db),'Content-Type':_0x63efb3(0x1db),'Authorization':_0x54acc5[_0x63efb3(0x1bf)]},'body':JSON[_0x63efb3(0x1d5)](_0x35d75e)})[_0x63efb3(0x1b8)](_0x51ccc3=>{const _0x5c752d=_0x63efb3;console['log'](_0x51ccc3),_0x51ccc3['ok']&&($('#eliminaralergia'+_0x57d076)[_0x5c752d(0x1af)](_0x5c752d(0x1ba)),location[_0x5c752d(0x1cc)]());})['catch'](_0x4d63b6=>{const _0xd7ca2e=_0x63efb3;console[_0xd7ca2e(0x1c5)](_0x4d63b6);});};