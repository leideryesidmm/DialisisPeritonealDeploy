const _0x3dc793=_0x31a7;(function(_0x10e8e2,_0x52639f){const _0x39c48e=_0x31a7,_0xf22bd9=_0x10e8e2();while(!![]){try{const _0xe5c2e0=parseInt(_0x39c48e(0x1c9))/0x1*(parseInt(_0x39c48e(0x1d7))/0x2)+parseInt(_0x39c48e(0x1c1))/0x3*(-parseInt(_0x39c48e(0x1b8))/0x4)+-parseInt(_0x39c48e(0x1b7))/0x5*(-parseInt(_0x39c48e(0x1bb))/0x6)+-parseInt(_0x39c48e(0x19f))/0x7*(parseInt(_0x39c48e(0x188))/0x8)+parseInt(_0x39c48e(0x1b5))/0x9*(parseInt(_0x39c48e(0x1d6))/0xa)+-parseInt(_0x39c48e(0x1a2))/0xb*(-parseInt(_0x39c48e(0x19a))/0xc)+parseInt(_0x39c48e(0x19e))/0xd*(parseInt(_0x39c48e(0x1ab))/0xe);if(_0xe5c2e0===_0x52639f)break;else _0xf22bd9['push'](_0xf22bd9['shift']());}catch(_0x5ebb91){_0xf22bd9['push'](_0xf22bd9['shift']());}}}(_0x2ec4,0xa7efe));function _0x31a7(_0x48b13e,_0x1bed22){const _0x2ec474=_0x2ec4();return _0x31a7=function(_0x31a7ea,_0x5d39de){_0x31a7ea=_0x31a7ea-0x184;let _0x34f009=_0x2ec474[_0x31a7ea];return _0x34f009;},_0x31a7(_0x48b13e,_0x1bed22);}function _0x2ec4(){const _0x5a6948=['error','cambiarContrasenia.html','administrador.html','getItem','json','7364TXhSLb','Pkcs7','value','text','username','principal.html','toString','cambioContrasenia','.toggle-password','querySelector','1513944sUXYAx','Utf8','2075jBqXoc','74288dUEcWv','pad','show','2346tmahTP','classList','cedulaPacienteEditar','removeItem','application/json','activo','204hLTogo','stringify','type','getElementById','remove','follow','CBC','authenticated','422YPhBvx','index.html','enc','log','servidorAPI','GET','pathname','includes','Usuario/ivFrontend','cedulaPaciente','url','datos','cambiado','30QoNgPp','3748AqADPu','POST','encrypt','password','administrador','96ANkIet','AES','cedula','decrypt','true','href','clear','mode','Usuario/tokenValido','Usuario/claveFrontend','token','setItem','login.html','contrasenia','pacientes.html','disabled','modal','usuario','105396wziXDb','Usuario/findMedicoByCedula/true','fa-eye-slash','status','31395HLbZLg','520009hZDnkJ','parse','add','143WUcwPh','medico','fa-eye','/misaludrenalbackend/'];_0x2ec4=function(){return _0x5a6948;};return _0x2ec4();}let servidorAPI=_0x3dc793(0x1a5),iv,cajaNegra2;var requestOptions={'method':_0x3dc793(0x1ce),'headers':{'Accept':'application/json','Content-Type':_0x3dc793(0x1bf)},'redirect':_0x3dc793(0x1c6)};let obtenerClave=async()=>{const _0x5ac82c=_0x3dc793;try{const _0x5b90b4=await fetch(servidorAPI+_0x5ac82c(0x191),requestOptions),_0x2f3cd1=await _0x5b90b4[_0x5ac82c(0x1ae)]();cajaNegra2=_0x2f3cd1;}catch(_0x3e9e28){return console[_0x5ac82c(0x1cc)](_0x5ac82c(0x1a6),_0x3e9e28),null;}},obtenerIv=async()=>{const _0x6365d0=_0x3dc793;try{const _0x34e14d=await fetch(servidorAPI+_0x6365d0(0x1d1),requestOptions),_0x146aa7=await _0x34e14d[_0x6365d0(0x1ae)]();iv=_0x146aa7;}catch(_0x2f282f){return console['log']('error',_0x2f282f),null;}};function isAuthenticated(){const _0x4cb5b6=_0x3dc793;return localStorage[_0x4cb5b6(0x1a9)](_0x4cb5b6(0x1c8))==='true';}let login=async _0x4d58b5=>{const _0x459158=_0x3dc793;let _0x542fac=![];_0x4d58b5['preventDefault'](),await obtenerClave(),await obtenerIv();const _0x5df70a=document[_0x459158(0x1c4)](_0x459158(0x1af))[_0x459158(0x1ad)],_0x413026=document[_0x459158(0x1c4)](_0x459158(0x186))['value'];let _0x2b7977=CryptoJS[_0x459158(0x189)][_0x459158(0x185)](CryptoJS[_0x459158(0x1cb)][_0x459158(0x1b6)][_0x459158(0x1a0)](encodeURIComponent(_0x5df70a)),CryptoJS[_0x459158(0x1cb)][_0x459158(0x1b6)][_0x459158(0x1a0)](cajaNegra2),{'iv':CryptoJS['enc'][_0x459158(0x1b6)][_0x459158(0x1a0)](iv),'mode':CryptoJS[_0x459158(0x18f)]['CBC'],'padding':CryptoJS[_0x459158(0x1b9)][_0x459158(0x1ac)]})[_0x459158(0x1b1)](),_0x2980a1=CryptoJS[_0x459158(0x189)][_0x459158(0x185)](CryptoJS[_0x459158(0x1cb)]['Utf8']['parse'](encodeURIComponent(_0x413026)),CryptoJS[_0x459158(0x1cb)][_0x459158(0x1b6)]['parse'](cajaNegra2),{'iv':CryptoJS[_0x459158(0x1cb)][_0x459158(0x1b6)][_0x459158(0x1a0)](iv),'mode':CryptoJS['mode'][_0x459158(0x1c7)],'padding':CryptoJS[_0x459158(0x1b9)][_0x459158(0x1ac)]})[_0x459158(0x1b1)](),_0x6ce765={'cedula':_0x2b7977,'contrasenia':_0x2980a1};const _0x177f44=await fetch(servidorAPI+'Usuario/findAdmin',{'method':_0x459158(0x184),'body':JSON[_0x459158(0x1c2)](_0x6ce765),'headers':{'Accept':_0x459158(0x1bf),'Content-Type':_0x459158(0x1bf)}});if(_0x177f44['status']!=0xcc){const _0x2182c8=await _0x177f44[_0x459158(0x1aa)]();let _0x55ba09=decodeURIComponent(CryptoJS[_0x459158(0x189)][_0x459158(0x18b)](_0x2182c8[0x0]['cedula'],CryptoJS['enc']['Utf8'][_0x459158(0x1a0)](cajaNegra2),{'iv':CryptoJS['enc'][_0x459158(0x1b6)][_0x459158(0x1a0)](iv),'mode':CryptoJS[_0x459158(0x18f)][_0x459158(0x1c7)],'padding':CryptoJS[_0x459158(0x1b9)][_0x459158(0x1ac)]})[_0x459158(0x1b1)](CryptoJS[_0x459158(0x1cb)]['Utf8'])),_0xea36a6=decodeURIComponent(CryptoJS[_0x459158(0x189)]['decrypt'](_0x2182c8[0x0][_0x459158(0x195)],CryptoJS[_0x459158(0x1cb)]['Utf8'][_0x459158(0x1a0)](cajaNegra2),{'iv':CryptoJS[_0x459158(0x1cb)][_0x459158(0x1b6)][_0x459158(0x1a0)](iv),'mode':CryptoJS[_0x459158(0x18f)][_0x459158(0x1c7)],'padding':CryptoJS['pad'][_0x459158(0x1ac)]})[_0x459158(0x1b1)](CryptoJS[_0x459158(0x1cb)][_0x459158(0x1b6)]));if(_0x55ba09===_0x5df70a&&_0xea36a6===_0x413026){localStorage[_0x459158(0x193)](_0x459158(0x1c8),_0x459158(0x18c));let _0x47f9e1=_0x459158(0x187);datos={'cedula':_0x2182c8[0x0][_0x459158(0x18a)],'contrasenia':_0x2182c8[0x0][_0x459158(0x195)],'usuario':_0x47f9e1,'token':_0x2182c8[0x1]};const _0x11e986=JSON[_0x459158(0x1c2)](datos);localStorage[_0x459158(0x193)](_0x459158(0x1d4),_0x11e986),localStorage[_0x459158(0x193)]('servidorAPI',servidorAPI),location['href']=_0x459158(0x1a8),_0x542fac=!![];return;}}if(_0x542fac==!![])return;const _0x3a0a6e=await fetch(servidorAPI+'paciente/findPacienteByCedula/true',{'method':_0x459158(0x184),'body':JSON[_0x459158(0x1c2)](_0x6ce765),'headers':{'Accept':_0x459158(0x1bf),'Content-Type':_0x459158(0x1bf)}});let _0x4516b9=![],_0x3a8fc5=![];if(_0x3a0a6e['status']!==0xcc){const _0x4c5758=await _0x3a0a6e[_0x459158(0x1aa)]();if(_0x4c5758[0x0]['activo']==!![]){let _0x3ef0e1=decodeURIComponent(CryptoJS[_0x459158(0x189)][_0x459158(0x18b)](_0x4c5758[0x0][_0x459158(0x18a)],CryptoJS[_0x459158(0x1cb)][_0x459158(0x1b6)][_0x459158(0x1a0)](cajaNegra2),{'iv':CryptoJS['enc'][_0x459158(0x1b6)]['parse'](iv),'mode':CryptoJS['mode']['CBC'],'padding':CryptoJS['pad']['Pkcs7']})[_0x459158(0x1b1)](CryptoJS[_0x459158(0x1cb)][_0x459158(0x1b6)])),_0x1e9a51=decodeURIComponent(CryptoJS[_0x459158(0x189)][_0x459158(0x18b)](_0x4c5758[0x0][_0x459158(0x195)],CryptoJS[_0x459158(0x1cb)][_0x459158(0x1b6)][_0x459158(0x1a0)](cajaNegra2),{'iv':CryptoJS[_0x459158(0x1cb)][_0x459158(0x1b6)][_0x459158(0x1a0)](iv),'mode':CryptoJS[_0x459158(0x18f)][_0x459158(0x1c7)],'padding':CryptoJS[_0x459158(0x1b9)][_0x459158(0x1ac)]})[_0x459158(0x1b1)](CryptoJS[_0x459158(0x1cb)]['Utf8']));if(_0x3ef0e1===_0x5df70a&&_0x1e9a51===_0x413026){localStorage[_0x459158(0x193)](_0x459158(0x1c8),_0x459158(0x18c));let _0x4fd929='paciente';datos={'cedula':_0x4c5758[0x0][_0x459158(0x18a)],'contrasenia':_0x4c5758[0x0]['contrasenia'],'usuario':_0x4fd929,'token':_0x4c5758[0x1]};const _0x55e189=JSON[_0x459158(0x1c2)](datos);localStorage[_0x459158(0x193)](_0x459158(0x1d4),_0x55e189),localStorage[_0x459158(0x193)](_0x459158(0x1cd),servidorAPI);let _0x233ee4=_0x4c5758[0x0][_0x459158(0x1b2)];return localStorage[_0x459158(0x193)](_0x459158(0x1d5),_0x233ee4),!_0x233ee4?(location[_0x459158(0x18d)]='cambiarContrasenia.html',_0x4516b9=!![],_0x233ee4):(location['href']='principal.html',_0x4516b9=!![],_0x233ee4);}}};if(!_0x4516b9){const _0x101642=await fetch(servidorAPI+_0x459158(0x19b),{'method':'POST','body':JSON[_0x459158(0x1c2)](_0x6ce765),'headers':{'Accept':_0x459158(0x1bf),'Content-Type':_0x459158(0x1bf)}});if(_0x101642[_0x459158(0x19d)]!=0xcc){const _0x197e47=await _0x101642['json']();if(_0x197e47[0x0][_0x459158(0x1c0)]==!![]){let _0x5e99ef=decodeURIComponent(CryptoJS[_0x459158(0x189)][_0x459158(0x18b)](_0x197e47[0x0][_0x459158(0x18a)],CryptoJS[_0x459158(0x1cb)]['Utf8'][_0x459158(0x1a0)](cajaNegra2),{'iv':CryptoJS[_0x459158(0x1cb)][_0x459158(0x1b6)][_0x459158(0x1a0)](iv),'mode':CryptoJS['mode']['CBC'],'padding':CryptoJS['pad'][_0x459158(0x1ac)]})[_0x459158(0x1b1)](CryptoJS[_0x459158(0x1cb)][_0x459158(0x1b6)])),_0x15c2ad=decodeURIComponent(CryptoJS['AES'][_0x459158(0x18b)](_0x197e47[0x0][_0x459158(0x195)],CryptoJS[_0x459158(0x1cb)][_0x459158(0x1b6)][_0x459158(0x1a0)](cajaNegra2),{'iv':CryptoJS[_0x459158(0x1cb)][_0x459158(0x1b6)]['parse'](iv),'mode':CryptoJS[_0x459158(0x18f)]['CBC'],'padding':CryptoJS[_0x459158(0x1b9)][_0x459158(0x1ac)]})['toString'](CryptoJS[_0x459158(0x1cb)][_0x459158(0x1b6)]));if(_0x5e99ef===_0x5df70a&&_0x15c2ad===_0x413026){localStorage['setItem'](_0x459158(0x1c8),_0x459158(0x18c));let _0x1975bd=_0x459158(0x1a3);datos={'cedula':_0x197e47[0x0][_0x459158(0x18a)],'contrasenia':_0x197e47[0x0][_0x459158(0x195)],'usuario':_0x1975bd,'token':_0x197e47[0x1]};const _0x38ae4c=JSON[_0x459158(0x1c2)](datos);return localStorage[_0x459158(0x193)](_0x459158(0x1d4),_0x38ae4c),localStorage[_0x459158(0x193)](_0x459158(0x1cd),servidorAPI),location[_0x459158(0x18d)]=_0x459158(0x196),_0x3a8fc5=!![],_0x5df70a;}}}}!_0x4516b9&&!_0x3a8fc5&&!_0x542fac&&($('#errorDatosModal')[_0x459158(0x198)](_0x459158(0x1ba)),crearAdmin(),document['getElementById']('log-in')[_0x459158(0x197)]=![]);},logout=()=>{const _0x273524=_0x3dc793;localStorage[_0x273524(0x1be)]('authenticated'),localStorage['removeItem'](_0x273524(0x1cd)),localStorage[_0x273524(0x1be)](_0x273524(0x1d4)),localStorage['removeItem'](_0x273524(0x1d2)),localStorage['removeItem'](_0x273524(0x1d3)),localStorage[_0x273524(0x1be)]('documento'),localStorage[_0x273524(0x1be)](_0x273524(0x1bd)),localStorage[_0x273524(0x18e)](),location[_0x273524(0x18d)]='login.html';},onload=async()=>{const _0x52f3e0=_0x3dc793;let _0x4001cc=window['location'][_0x52f3e0(0x1cf)];await obtenerClave(),await obtenerIv();if(isAuthenticated()){let _0x3cee0d=localStorage[_0x52f3e0(0x1a9)]('datos'),_0xa80a6e=JSON[_0x52f3e0(0x1a0)](_0x3cee0d);const _0x77f9a5=await fetch(servidorAPI+_0x52f3e0(0x190),{'method':_0x52f3e0(0x1ce),'headers':{'Accept':_0x52f3e0(0x1bf),'Content-Type':'application/json','Authorization':_0xa80a6e[_0x52f3e0(0x192)]}});(_0x77f9a5[_0x52f3e0(0x19d)]===0x191||_0x77f9a5[_0x52f3e0(0x19d)]===0x193)&&logout();let _0x3a800d=_0xa80a6e[_0x52f3e0(0x199)];(_0x4001cc[_0x52f3e0(0x1d0)]('login.html')||_0x4001cc[_0x52f3e0(0x1d0)](_0x52f3e0(0x1ca)))&&(_0x3a800d=='medico'?location[_0x52f3e0(0x18d)]=_0x52f3e0(0x196):_0x3a800d=='administrador'?location['href']=_0x52f3e0(0x1a8):localStorage['getItem'](_0x52f3e0(0x1d5))==_0x52f3e0(0x18c)?location[_0x52f3e0(0x18d)]=_0x52f3e0(0x1b0):location['href']=_0x52f3e0(0x1a7));}else!_0x4001cc['includes'](_0x52f3e0(0x194))&&(location[_0x52f3e0(0x18d)]=_0x52f3e0(0x194));};function passwordVisibility(){const _0x39179c=_0x3dc793;var _0x3e235d=document[_0x39179c(0x1c4)](_0x39179c(0x186)),_0x1f5e1e=document[_0x39179c(0x1b4)](_0x39179c(0x1b3));_0x3e235d[_0x39179c(0x1c3)]===_0x39179c(0x186)?(_0x3e235d[_0x39179c(0x1c3)]='text',_0x1f5e1e[_0x39179c(0x1bc)]['remove'](_0x39179c(0x1a4)),_0x1f5e1e['classList']['add']('fa-eye-slash')):(_0x3e235d[_0x39179c(0x1c3)]=_0x39179c(0x186),_0x1f5e1e[_0x39179c(0x1bc)][_0x39179c(0x1c5)](_0x39179c(0x19c)),_0x1f5e1e['classList'][_0x39179c(0x1a1)](_0x39179c(0x1a4)));}